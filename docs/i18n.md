# Multi-Language Support in TmpLink Uploader

TmpLink Uploader now supports multiple languages, allowing users to choose their preferred language for the user interface.

## Supported Languages

Currently, the application supports the following languages:

- Chinese (Simplified): `cn`
- English: `en`
- Chinese (Traditional): `tw`
- Japanese: `jp`

## Setting the Language

### CLI Mode

You can set the language using either the command line parameter or by saving your preference:

```bash
# Set language for current session only
./tmplink-cli -language cn

# Save language preference permanently
./tmplink-cli -set-language cn
```

### GUI Mode

You can set the language in GUI mode using the command line parameter:

```bash
./tmplink -language en
```

The language setting is saved in the configuration file and will be used for future sessions.

## Automatic Language Detection

If no language is specified, the application will attempt to detect the system language based on the `LANG` environment variable. If the detected language is not supported, it falls back to Chinese (`cn`) as the default.

## Adding New Languages

To add support for a new language:

1. Create a new file in the `internal/i18n` directory named according to the language code (e.g., `fr.go`)
2. Implement the initialization function following the pattern of existing language files
3. Add the new language to the `SupportedLanguages` list in `i18n.go`

## Updating Translations

All translation strings are maintained in the corresponding language files:

- Chinese (Simplified): `internal/i18n/cn.go`
- English: `internal/i18n/en.go`
- Chinese (Traditional): `internal/i18n/tw.go`
- Japanese: `internal/i18n/jp.go`

To modify or add new strings, update the appropriate map in these files.

## Using i18n in Code

To use localized strings in the code:

```go
import "tmplink_uploader/internal/i18n"

// Initialize language (if not done globally)
i18n.InitLanguage("cn")

// Simple string
message := i18n.T("app_name")

// String with format parameters
errorMessage := i18n.T("error_message", errorCode)

// Multiple parameters
statusText := i18n.T("status_info", username, itemCount, successRate)
```

## Testing Language Support

A test utility is provided in `test/test_i18n.go` which displays all localized strings in the selected language:

```bash
# Test with Chinese
go run test/test_i18n.go zh-CN

# Test with English
go run test/test_i18n.go en-US

# Test with auto-detection
go run test/test_i18n.go
```